{% extends 'template.html' %}

{% block title %}
	{{ pagename }}
{% endblock %}

{% block content %}
<link href="/css/maqalta.css" rel="stylesheet">
<h2>{{ pagename }}</h2>
<div class="panel panel-default">
	<form method="post" id="formalta" action="/maqalta">
		<table align="center" class="table table-striped">
			<tr>
				<td>N° Interno:</td>
				<td><input type="text" id="codigo" name="codigo" required value="{{ ultimocodigo }}"></td>
			</tr>
			<tr>
				<td>Dominio:</td>
				<td><input type="text" id="dominio" name="dominio" required></td>
			</tr>
			<tr>
				<td>Denominacion:</td>
				<td><input type="text" id="nombre" name="nombre" required><div class="aviso">Quedan <span id="charsLeftDenominacion"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Marca:</td>
				<td><input type="text" id="marca" name="marca" required><div class="aviso">Quedan <span id="charsLeftMarca"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Tipo:</td>
				<td>
					<select class="form-control" id="tipomaquinaria" name="tipomaquinaria">
					{% for maquinaria in maquinarias %}
						<option value="{{ maquinaria.id }}">{{ maquinaria.descripcion }}</option>
					{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td>Modelo:</td>
				<td><input type="text" id="modelo" name="modelo" required></td>
			</tr>
			<tr>
				<td>Año:</td>
				<td><input type="text" id="anio" name="anio" required placeholder="ej: 2011" onKeyPress="return soloNumeros(event)"></td>
			</tr>
			<tr>
				<td>Nº Serie o Chasis:</td>
				<td><input type="text" id="serie" name="serie" required><div class="aviso">Quedan <span id="charsLeftSerie"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Nº de Motor:</td>
				<td><input type="text" name="nmotor" id="nmotor" required><div class="aviso">Quedan <span id="charsLeftNmotor"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Fecha de compra:</td>
				<td><input type="text" class="datepicker" readonly name="fcompra" id="fcompra" ></td>
			</tr>
			<tr>
				<td>Control por:</td>
				<td>
					<select class="form-control" id="tipocontrol" name="tipocontrol">
					{% for control in controles %}
						<option value="{{ control.id }}">{{ control.descripcion }}</option>
					{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td>Combustible:</td>
				<td>
					<select class="form-control" id="tipocomb" name="tipocomb">
					{% for comb in combs %}
						<option value="{{ comb.id }}">{{ comb.descripcion }}</option>
					{% endfor %}
					</select>
				</td>
			</tr>
			<tr>
				<td>Titular:</td>
				<td><input type="text" id="titular" name="titular" required><div class="aviso">Quedan <span id="charsLeftTitular"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Mas datos:</td>
				<td><textarea name="datos" id="datos" rows="10" cols="40" ></textarea><div class="aviso">Quedan <span id="charsLeftDatos"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td>Link fabricante:</td>
				<td><input type="text" name="linkfab" id="linkfab"><div class="aviso">Quedan <span id="charsLeftLinkfab"></span> caraceteres.</div></td>
			</tr>
			<tr>
				<td><input type="button" value="Atras" onclick="history.back()"></td>
				<td><input type="submit" value="Agregar"></td>
			</tr>
		</table>
	</form>
</div>
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap-datepicker.js"></script>
<script src="/js/jquery.limit-1.2.js"></script>
<script type="text/javascript">
	$('#nombre').limit('30','#charsLeftDenominacion');
	$('#marca').limit('20','#charsLeftMarca');
	$('#serie').limit('25','#charsLeftSerie');
	$('#nmotor').limit('25','#charsLeftNmotor');
	$('#titular').limit('40','#charsLeftTitular');
	$('#datos').limit('1024','#charsLeftDatos');
	$('#linkfab').limit('80','#charsLeftLinkfab');
	$(".datepicker").datepicker({
		format: 'dd/mm/yyyy',
		autoclose: true,
		language: 'es'
	});
	function soloNumeros(e){
		var key = window.Event ? e.which : e.keyCode
		return (key >= 48 && key <= 57)
	}
</script>

{% endblock %}